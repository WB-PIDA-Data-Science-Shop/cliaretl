% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ctf_funs.R
\name{compute_family_average}
\alias{compute_family_average}
\title{Family-level averages}
\usage{
compute_family_average(
  cliar_data,
  vars,
  type = c("static", "dynamic"),
  db_variables,
  require_complete = TRUE,
  exclude_pattern = "gdp"
)
}
\arguments{
\item{cliar_data}{Data frame with `country_code`, optional `year`, and indicators.}

\item{vars}{Tidyselect for indicator columns (e.g., `starts_with("vdem_")`).}

\item{type}{`"static"` (default) or `"dynamic"`.}

\item{db_variables}{Data frame with columns: `variable`, `var_name`, `family_name`, `family_var`.}

\item{require_complete}{If `TRUE` (default), return `NA` unless all indicators in a family are present within a group.}

\item{exclude_pattern}{Optional regex to drop indicators before aggregating (default `"gdp"`, `NULL` to keep all).}
}
\value{
A tibble with one row per country (static) or country-year (dynamic),
and one column per family named as \code{<family_var>_avg}, where <family_var> is the code for each institutional family.
}
\description{
Compute simple means of indicator columns by institutional family
(from `db_variables$family_var`). Works on static (by country) or
dynamic (by country-year) panels.
}
